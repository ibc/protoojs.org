@import 'compass/reset';
@import 'compass/css3/box-sizing';
@import 'compass/css3/images';
@import 'compass/css3/transition';

// Partials.
@import 'grid';

// Colors.
$color-white-light: #fff;
$color-white-dark: #fdeae8;
$color-black-light: #555;
$color-black-dark: #333;
$color-red-light: #B74244;
$color-red-dark: #602F2F;
$color-brown-dark: #331b1b;
$color-brown-light: #6d3134;

// Other variables.
$footer-height: 110px;


html {
	position: relative;
	min-height: 100%;
	font-size: 90%;
}

body {
	height: 100%;
	margin-bottom: $footer-height;
	font-family: 'Open Sans';
	font-size: 1em; /* currently ems cause chrome bug misinterpreting rems on body element */
	font-weight: 400;
}


/* Menu
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.menu {
	position: absolute;
	z-index: 10;
	width: 100%;
	margin: 0 auto;
	@include transition-duration(0.25s);
	background: shade($color-brown-dark, 30%);

	@media (min-width: 550px) {
		top: -1 * $menu-item-height;
	}

	@media (max-width: 549px) {
		top: -1 * ($menu-item-height-mobile * $menu-num-items);
	}

	.grid {
		max-width: 750px;
		width: 90%;
		overflow: hidden;

		.item {
			a {
				@include box-sizing(border-box);
				@include transition-duration(0.5s);
				display: block;
				font-size: 1.1rem;
				text-align: center;
				text-decoration: none;
				color: shade($color-white-dark, 25%);

				@media (min-width: 550px) {
					height: $menu-item-height;
					line-height: $menu-item-height;
					border-bottom: 0px solid rgba($color-white-dark, 0);

					&:hover {
						color: shade($color-brown-dark, 50%);
						border-bottom: $menu-item-height solid rgba($color-white-dark, 1);
					}
				}

				@media (max-width: 549px) {
					height: $menu-item-height-mobile;
					line-height: $menu-item-height-mobile;
					color: shade($color-white-dark, 25%);
					border-bottom: 1px solid shade($color-brown-dark, 50%);

					&:hover {
						color: $color-white-light;
						border-color: $color-red-light;
					}
				}
			}
		}
	}

	&:hover {
		top: 0;

		.icon-wrapper .icon {
			height: 0;
			background-size: 0;
		}
	}

	.icon-wrapper {
		position: absolute;
		width: 100%;
		height: 0;

		.icon {
			@include transition-duration(0.25s);
			max-width: 750px;
			width: 90%;
			margin: 0 auto;
			background: center right url(/images/menu.png) no-repeat;

			@media (min-width: 550px) {
				height: $menu-item-height;
				background-size: $menu-item-height / 2;
			}

			@media (max-width: 549px) {
				height: $menu-item-height-mobile;
				background-size: $menu-item-height-mobile / 2;
			}
		}
	}
}


/* Footer
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.footer {
	$padding: 20px;
	$line-height: ($footer-height - $padding * 2) / 2;

	position: absolute;
	bottom: 0;
	width: 100%;
	min-height: $footer-height;
	@include box-sizing(border-box);
	padding: $padding 0;
	background-color: $color-brown-dark; // Old browsers
	@include background-image(linear-gradient(left, $color-brown-dark 0%,$color-brown-light 50%,$color-brown-dark 100%));

	// Fix footer height in mobile.
	@media (max-width: 549px) {
		bottom: -3rem;
	}

	.grid {
		max-width: 500px;
	}

	p {
		color: $color-white-dark;
		font-size: 0.9rem;
		line-height: $line-height;
		text-align: center;

		a {
			display: block;
			color: inherit;
			text-decoration: none;
			border-bottom: 1px solid $color-brown-dark;
			@include transition-duration(0.25s);

			&:hover {
				border-color: $color-red-light;
			}
		}

		&.copyright {
			font-size: 0.8rem;
			color: #c57e75;
		}
	}
}
